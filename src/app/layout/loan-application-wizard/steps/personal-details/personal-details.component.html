<div class="form-container" *ngIf="customer">
  <h2>
    <mat-icon color="primary">person</mat-icon>
    Personal Details
  </h2>

  <div class="form-card view-mode">
    <!-- Profile Header -->
    <div class="profile-header">
      <div class="profile-section">
        <div class="profile-image-container">
          <img
            [src]="profilePreview || 'assets/default-profile.png'"
            alt="Profile Picture"
            class="profile-image"
          />
          <button mat-icon-button class="profile-edit-icon" matTooltip="Change Photo" (click)="openWebcam()">
            <mat-icon>photo_camera</mat-icon>
          </button>
        </div>
        <div class="profile-info">
          <h3>{{ customer?.firstName }} {{ customer?.middleName }} {{ customer?.lastName }}</h3>
          <p class="loan-account">customer No: {{ customer?.customerId }}</p>
        </div>
      </div>
      <div class="profile-actions">
        <button mat-stroked-button color="primary" (click)="onEditClick()">
          <mat-icon>edit</mat-icon>
          Edit
        </button>
      </div>
    </div>

    <!-- Details Grid -->
    <div class="detail-grid">
      <div class="detail-item">
        <label>Date of Birth</label>
        <span>{{ customer?.dateOfBirth | date:'dd/MM/yyyy' || 'N/A' }}</span>
      </div>
      <div class="detail-item">
        <label>Gender</label>
        <span>{{ customer?.gender || 'N/A' }}</span>
      </div>
      <div class="detail-item">
        <label>Marital Status</label>
        <span>{{ customer?.maritalStatus || 'N/A' }}</span>
      </div>
      <div class="detail-item">
        <label>Mobile</label>
        <span>{{ customer?.mobileNumber || 'N/A' }}</span>
      </div>
      <div class="detail-item">
        <label>Alternate Mobile</label>
        <span>{{ customer?.alternateMobileNumber || 'N/A' }}</span>
      </div>
      <div class="detail-item">
        <label>Email</label>
        <span>{{ customer?.email || 'N/A' }}</span>
      </div>
      <div class="detail-item">
        <label>Office</label>
        <span>{{ customer?.office || 'N/A' }}</span>
      </div>
      <div class="detail-item">
        <label>Client Type</label>
        <span>{{ customer?.clientType || 'N/A' }}</span>
      </div>
      <div class="detail-item">
        <label>Education</label>
        <span>{{ customer?.education || 'N/A' }}</span>
      </div>
      <div class="detail-item">
        <label>Preferred Language</label>
        <span>{{ customer?.preferredLanguage || 'N/A' }}</span>
      </div>
      <div class="detail-item">
        <label>Religion</label>
        <span>{{ customer?.religion || 'N/A' }}</span>
      </div>
      <div class="detail-item">
        <label>Risk Category</label>
        <span>{{ customer?.riskCategory || 'N/A' }}</span>
      </div>
      <div class="detail-item">
        <label>Nationality</label>
        <span>{{ customer?.nationality || 'N/A' }}</span>
      </div>
      <div class="detail-item">
        <label>External ID</label>
        <span>{{ customer?.externalId || 'N/A' }}</span>
      </div>
      <div class="detail-item">
        <label>Application Status</label>
        <span>{{ customer?.applicationStatus || 'N/A' }}</span>
      </div>
    </div>
  </div>
</div>
