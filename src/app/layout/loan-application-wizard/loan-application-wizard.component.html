<div class="wizard-layout">
  <!-- Sidebar -->
  <aside class="wizard-sidebar">
    <div class="logo">ðŸ§­ <span>Wizard</span></div>
    <mat-nav-list>
      <mat-list-item
        *ngFor="let step of steps; let i = index"
        (click)="goToStep(i)"
        [class.active]="i === activeStep"
        [class.completed]="i < activeStep"
      >
        <mat-icon matListIcon>
          {{ i < activeStep ? 'check_circle' : (i === activeStep ? 'radio_button_checked' : 'radio_button_unchecked') }}
        </mat-icon>
        <span class="step-label">{{ step.label }}</span>
      </mat-list-item>
    </mat-nav-list>
  </aside>

  <!-- Main Content -->
  <section class="wizard-main">
    <!-- User Banner -->
    <div class="user-banner">
      <div>
        <h2>John Doe</h2>
        <p>User ID: 123456789 &nbsp;|&nbsp; Email: john@example.com</p>
      </div>
    </div>

    <!-- Step Header -->
    <div class="wizard-step-header">
      <h3>{{ steps[activeStep].label }}</h3>
    </div>

    <!-- Step Content -->
    <div class="wizard-step-content">
      <ng-container [ngSwitch]="activeStep">
        <app-personal-details *ngSwitchCase="0"  [loanApplicationId]="loanApplicationId"></app-personal-details>
        <app-family-details *ngSwitchCase="1"  [loanApplicationId]="loanApplicationId"></app-family-details>
        <app-address-activity *ngSwitchCase="2" [loanApplicationId]="loanApplicationId"></app-address-activity>
        <app-work-details *ngSwitchCase="3" [loanApplicationId]="loanApplicationId"></app-work-details>
        <app-kyc-details *ngSwitchCase="4" [loanApplicationId]="loanApplicationId"></app-kyc-details>
        <app-additional-documents *ngSwitchCase="5"></app-additional-documents>
        <app-client-documents *ngSwitchCase="6"></app-client-documents>
        <app-nominee *ngSwitchCase="7" [loanApplicationId]="loanApplicationId"></app-nominee>
        <app-reference-details *ngSwitchCase="8" [loanApplicationId]="loanApplicationId"></app-reference-details>
        <app-gold-ownership-details *ngSwitchCase="9" [loanApplicationId]="loanApplicationId"></app-gold-ownership-details>
        <app-first-valuation *ngSwitchCase="10" [loanApplicationId]="loanApplicationId"></app-first-valuation>
        <app-second-valuation *ngSwitchCase="11" [loanApplicationId]="loanApplicationId"></app-second-valuation>
        <app-final-valuation *ngSwitchCase="12" [loanApplicationId]="loanApplicationId"></app-final-valuation>

      </ng-container>
    </div>

    <!-- Footer Buttons -->
    <div class="wizard-footer">
      <button mat-stroked-button (click)="prev()" [disabled]="activeStep === 0">Previous</button>
      <button mat-flat-button color="primary" (click)="next()" *ngIf="!isLastStep()">Next</button>
      <button mat-raised-button color="accent" (click)="submitAll()" *ngIf="isLastStep()">Submit</button>
    </div>
  </section>
</div>
