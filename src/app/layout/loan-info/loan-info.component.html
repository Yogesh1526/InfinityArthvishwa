<mat-card class="loan-form-card">
    <h2><mat-icon color="primary">account_balance</mat-icon> Add New Loan Information</h2>
  
    <form [formGroup]="loanForm" (ngSubmit)="onSubmit()" novalidate>
  
      <div class="form-row">
        <mat-form-field appearance="outline" class="form-field">
          <mat-label>Product *</mat-label>
          <mat-select formControlName="product">
            <mat-option value="">Select</mat-option>
            <mat-option *ngFor="let product of products" [value]="product">{{ product }}</mat-option>
          </mat-select>
          <mat-error *ngIf="loanForm.get('product')?.hasError('required')">Product is required</mat-error>
        </mat-form-field>
  
        <mat-form-field appearance="outline" class="form-field">
          <mat-label>Office *</mat-label>
          <input matInput formControlName="office" />
          <mat-error *ngIf="loanForm.get('office')?.hasError('required')">Office is required</mat-error>
        </mat-form-field>
  
        <mat-form-field appearance="outline" class="form-field">
          <mat-label>Fund</mat-label>
          <input matInput formControlName="fund" />
        </mat-form-field>
      </div>
  
      <div class="form-row">
        <mat-form-field appearance="outline" class="form-field">
          <mat-label>Submitted On *</mat-label>
          <input matInput [matDatepicker]="submittedDatePicker" formControlName="submittedOn" />
          <mat-datepicker-toggle matSuffix [for]="submittedDatePicker"></mat-datepicker-toggle>
          <mat-datepicker #submittedDatePicker></mat-datepicker>
          <mat-error *ngIf="loanForm.get('submittedOn')?.hasError('required')">Submitted date is required</mat-error>
        </mat-form-field>
  
        <mat-form-field appearance="outline" class="form-field">
          <mat-label>Principal Amount *</mat-label>
          <input matInput type="number" formControlName="principal" />
          <mat-error *ngIf="loanForm.get('principal')?.hasError('required')">Principal is required</mat-error>
        </mat-form-field>
  
        <mat-form-field appearance="outline" class="form-field">
          <mat-label>Nominal Interest Rate (%) *</mat-label>
          <input matInput type="number" step="0.01" formControlName="interestRate" />
          <mat-error *ngIf="loanForm.get('interestRate')?.hasError('required')">Interest rate is required</mat-error>
        </mat-form-field>
      </div>
  
      <div class="form-row">
        <mat-form-field appearance="outline" class="form-field">
          <mat-label>Anchors</mat-label>
          <input matInput formControlName="anchors" />
        </mat-form-field>
  
        <mat-form-field appearance="outline" class="form-field">
          <mat-label>Loan Tenure (months) *</mat-label>
          <input matInput type="number" formControlName="tenure" />
          <mat-error *ngIf="loanForm.get('tenure')?.hasError('required')">Loan tenure is required</mat-error>
        </mat-form-field>
  
        <mat-form-field appearance="outline" class="form-field">
          <mat-label>Number of Repayments *</mat-label>
          <input matInput type="number" formControlName="repayments" />
          <mat-error *ngIf="loanForm.get('repayments')?.hasError('required')">This field is required</mat-error>
        </mat-form-field>
      </div>
  
      <div class="form-row">
        <mat-form-field appearance="outline" class="form-field">
          <mat-label>External ID</mat-label>
          <input matInput formControlName="externalId" />
        </mat-form-field>
  
        <mat-form-field appearance="outline" class="form-field">
          <mat-label>Repayment Frequency *</mat-label>
          <mat-select formControlName="repaymentFrequency">
            <mat-option value="">Select</mat-option>
            <mat-option value="Monthly">Monthly</mat-option>
            <mat-option value="Quarterly">Quarterly</mat-option>
            <mat-option value="Yearly">Yearly</mat-option>
          </mat-select>
          <mat-error *ngIf="loanForm.get('repaymentFrequency')?.hasError('required')">This field is required</mat-error>
        </mat-form-field>
  
        <mat-form-field appearance="outline" class="form-field">
          <mat-label>First Repayment Date</mat-label>
          <input matInput [matDatepicker]="firstRepaymentDatePicker" formControlName="firstRepaymentDate" />
          <mat-datepicker-toggle matSuffix [for]="firstRepaymentDatePicker"></mat-datepicker-toggle>
          <mat-datepicker #firstRepaymentDatePicker></mat-datepicker>
        </mat-form-field>
      </div>
  
      <div class="form-row">
        <mat-form-field appearance="outline" class="form-field">
          <mat-label>Repayment Strategy *</mat-label>
          <mat-select formControlName="repaymentStrategy">
            <mat-option value="">Select</mat-option>
            <mat-option value="Equal Installments">Equal Installments</mat-option>
            <mat-option value="Interest First">Interest First</mat-option>
            <mat-option value="Principal First">Principal First</mat-option>
          </mat-select>
          <mat-error *ngIf="loanForm.get('repaymentStrategy')?.hasError('required')">This field is required</mat-error>
        </mat-form-field>
  
        <mat-form-field appearance="outline" class="form-field">
          <mat-label>Initial Broken Period Interest Calculation</mat-label>
          <mat-select formControlName="brokenInterestCalc">
            <mat-option value="">Select</mat-option>
            <mat-option value="Exact Days">Exact Days</mat-option>
            <mat-option value="Ignore">Ignore</mat-option>
          </mat-select>
        </mat-form-field>
      </div>
  
      <div class="form-row form-actions">
        <button mat-raised-button color="primary" [disabled]="loanForm.invalid">Submit</button>
        <button mat-stroked-button type="button" (click)="onReset()">Reset</button>
      </div>
  
    </form>
  </mat-card>
  